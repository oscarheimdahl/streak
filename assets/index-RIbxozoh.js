var re=Object.defineProperty;var oe=(e,t,r)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var I=(e,t,r)=>(oe(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function A(){}function H(e){return e()}function q(){return Object.create(null)}function O(e){e.forEach(H)}function Q(e){return typeof e=="function"}function W(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function se(e){return Object.keys(e).length===0}function k(e){return e??""}function v(e,t){e.appendChild(t)}function T(e,t,r){e.insertBefore(t,r||null)}function L(e){e.parentNode&&e.parentNode.removeChild(e)}function le(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function m(e){return document.createElement(e)}function X(e){return document.createTextNode(e)}function ie(){return X(" ")}function ce(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function h(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function ae(e){return Array.from(e.childNodes)}function ue(e,t){t=""+t,e.data!==t&&(e.data=t)}let E;function S(e){E=e}function fe(){if(!E)throw new Error("Function called outside component initialization");return E}function de(e){fe().$$.on_mount.push(e)}const b=[],z=[];let D=[];const J=[],he=Promise.resolve();let P=!1;function pe(){P||(P=!0,he.then(Y))}function j(e){D.push(e)}const C=new Set;let $=0;function Y(){if($!==0)return;const e=E;do{try{for(;$<b.length;){const t=b[$];$++,S(t),ge(t.$$)}}catch(t){throw b.length=0,$=0,t}for(S(null),b.length=0,$=0;z.length;)z.pop()();for(let t=0;t<D.length;t+=1){const r=D[t];C.has(r)||(C.add(r),r())}D.length=0}while(b.length);for(;J.length;)J.pop()();P=!1,C.clear(),S(e)}function ge(e){if(e.fragment!==null){e.update(),O(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}function me(e){const t=[],r=[];D.forEach(n=>e.indexOf(n)===-1?t.push(n):r.push(n)),r.forEach(n=>n()),D=t}const N=new Set;let _;function _e(){_={r:0,c:[],p:_}}function ye(){_.r||O(_.c),_=_.p}function x(e,t){e&&e.i&&(N.delete(e),e.i(t))}function B(e,t,r,n){if(e&&e.o){if(N.has(e))return;N.add(e),_.c.push(()=>{N.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}else n&&n()}function U(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function ve(e){e&&e.c()}function Z(e,t,r){const{fragment:n,after_update:o}=e.$$;n&&n.m(t,r),j(()=>{const l=e.$$.on_mount.map(H).filter(Q);e.$$.on_destroy?e.$$.on_destroy.push(...l):O(l),e.$$.on_mount=[]}),o.forEach(j)}function ee(e,t){const r=e.$$;r.fragment!==null&&(me(r.after_update),O(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function $e(e,t){e.$$.dirty[0]===-1&&(b.push(e),pe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function te(e,t,r,n,o,l,s=null,a=[-1]){const i=E;S(e);const c=e.$$={fragment:null,ctx:[],props:l,update:A,not_equal:o,bound:q(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(i?i.$$.context:[])),callbacks:q(),dirty:a,skip_bound:!1,root:t.target||i.$$.root};s&&s(c.root);let p=!1;if(c.ctx=r?r(e,t.props||{},(f,y,...w)=>{const u=w.length?w[0]:y;return c.ctx&&o(c.ctx[f],c.ctx[f]=u)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](u),p&&$e(e,f)),y}):[],c.update(),p=!0,O(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const f=ae(t.target);c.fragment&&c.fragment.l(f),f.forEach(L)}else c.fragment&&c.fragment.c();t.intro&&x(e.$$.fragment),Z(e,t.target,t.anchor),Y()}S(i)}class ne{constructor(){I(this,"$$");I(this,"$$set")}$destroy(){ee(this,1),this.$destroy=A}$on(t,r){if(!Q(r))return A;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{const o=n.indexOf(r);o!==-1&&n.splice(o,1)}}$set(t){this.$$set&&!se(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const be="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(be);const F=e=>e.toISOString().split("T")[0],M=F(new Date),De=e=>{function t(n,o){const l=new Date(n),s=new Date(l);return s.setDate(l.getDate()+o),F(s)}const r=[];return e.forEach((n,o)=>{r.push(n);const l=e[o+1];if(!l)return;const s=new Date(n.date),a=new Date(l.date),c=(Number(a)-Number(s))/(1e3*60*60*24);for(let p=1;p<c;p++){const f=t(F(s),p);r.push({date:f,streakAlive:!1})}}),r};function K(e){let t,r;return{c(){t=m("div"),h(t,"class",r=k(`shadow color-${e[0].color}`)+" svelte-ngo70b")},m(n,o){T(n,t,o)},p(n,o){o&1&&r!==(r=k(`shadow color-${n[0].color}`)+" svelte-ngo70b")&&h(t,"class",r)},d(n){n&&L(t)}}}function we(e){let t,r,n,o,l,s,a=R(e[0].date)+"",i,c,p,f,y,w,u=e[0].streakAlive&&K(e);return{c(){t=m("div"),u&&u.c(),r=ie(),n=m("button"),o=m("label"),l=m("div"),s=m("span"),i=X(a),h(l,"class","flex flex-col svelte-ngo70b"),h(o,"class",k(`
    text-center justify-center
    pointer-events-none fixed font-bold inset-0 grid place-content-center opacity-0
    drop-shadow-lg text-[4rem]
    group-hover:opacity-50
    md:text-[8rem]
    lg:text-[14rem]`)+" svelte-ngo70b"),h(o,"for",c=`button-${e[0].date}`),h(n,"id",p=`button-${e[0].date}`),h(n,"class",f=k(`
      group relative z-10
      ${e[0].streakAlive?`checked color-${e[0].color}`:"bg-transparent "}
      w-full aspect-square
      p-0 m-0
      focus:outline-none
    `)+" svelte-ngo70b"),h(t,"class","grid stack svelte-ngo70b")},m(d,g){T(d,t,g),u&&u.m(t,null),v(t,r),v(t,n),v(n,o),v(o,l),v(l,s),v(s,i),y||(w=ce(n,"click",e[1]),y=!0)},p(d,[g]){d[0].streakAlive?u?u.p(d,g):(u=K(d),u.c(),u.m(t,r)):u&&(u.d(1),u=null),g&1&&a!==(a=R(d[0].date)+"")&&ue(i,a),g&1&&c!==(c=`button-${d[0].date}`)&&h(o,"for",c),g&1&&p!==(p=`button-${d[0].date}`)&&h(n,"id",p),g&1&&f!==(f=k(`
      group relative z-10
      ${d[0].streakAlive?`checked color-${d[0].color}`:"bg-transparent "}
      w-full aspect-square
      p-0 m-0
      focus:outline-none
    `)+" svelte-ngo70b")&&h(n,"class",f)},i:A,o:A,d(d){d&&L(t),u&&u.d(),y=!1,w()}}}function R(e){return new Date(e).toLocaleDateString("sv-SE",{year:"numeric",month:"short",day:"numeric"}).toLocaleUpperCase()}function ke(e,t,r){let{day:n}=t,{saveDay:o}=t;function l(){n.date!==M&&!localStorage.getItem("unlocked")||(r(0,n.streakAlive=!n.streakAlive,n),r(0,n.color=n.color??Math.floor(Math.random()*6),n),o(n))}return e.$$set=s=>{"day"in s&&r(0,n=s.day),"saveDay"in s&&r(2,o=s.saveDay)},[n,l,o]}class Se extends ne{constructor(t){super(),te(this,t,ke,we,W,{day:0,saveDay:2})}}function V(e,t,r){const n=e.slice();return n[2]=t[r],n}function G(e){let t,r;return t=new Se({props:{saveDay:e[1],day:e[2]}}),{c(){ve(t.$$.fragment)},m(n,o){Z(t,n,o),r=!0},p(n,o){const l={};o&1&&(l.day=n[2]),t.$set(l)},i(n){r||(x(t.$$.fragment,n),r=!0)},o(n){B(t.$$.fragment,n),r=!1},d(n){ee(t,n)}}}function xe(e){let t,r,n=U(e[0]),o=[];for(let s=0;s<n.length;s+=1)o[s]=G(V(e,n,s));const l=s=>B(o[s],1,1,()=>{o[s]=null});return{c(){t=m("div");for(let s=0;s<o.length;s+=1)o[s].c();h(t,"class","grid grid-cols-[repeat(5,1fr)] md:grid-cols-[repeat(15,1fr)]")},m(s,a){T(s,t,a);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(t,null);r=!0},p(s,[a]){if(a&3){n=U(s[0]);let i;for(i=0;i<n.length;i+=1){const c=V(s,n,i);o[i]?(o[i].p(c,a),x(o[i],1)):(o[i]=G(c),o[i].c(),x(o[i],1),o[i].m(t,null))}for(_e(),i=n.length;i<o.length;i+=1)l(i);ye()}},i(s){if(!r){for(let a=0;a<n.length;a+=1)x(o[a]);r=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)B(o[a]);r=!1},d(s){s&&L(t),le(o,s)}}}function Ae(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}function Ee(e,t,r){let n=[];de(()=>{var c;const l=localStorage.getItem("streak")??"[]",a=JSON.parse(l).toSorted(Ae);((c=a.at(-1))==null?void 0:c.date)!==M&&a.push({date:M,streakAlive:!1});const i=De(a);r(0,n=i)});function o(l){const s=n.filter(a=>a.date!==l.date);localStorage.setItem("streak",JSON.stringify([...s,l]))}return[n,o]}class Oe extends ne{constructor(t){super(),te(this,t,Ee,xe,W,{})}}new Oe({target:document.getElementById("app")});
