var se=Object.defineProperty;var le=(e,t,n)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var T=(e,t,n)=>(le(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function x(){}function Q(e){return e()}function z(){return Object.create(null)}function N(e){e.forEach(Q)}function W(e){return typeof e=="function"}function X(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ie(e){return Object.keys(e).length===0}function _(e){return e??""}function b(e,t){e.appendChild(t)}function q(e,t,n){e.insertBefore(t,n||null)}function I(e){e.parentNode&&e.parentNode.removeChild(e)}function ce(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function Y(e){return document.createTextNode(e)}function ae(){return Y(" ")}function ue(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function fe(e){return Array.from(e.childNodes)}function de(e,t){t=""+t,e.data!==t&&(e.data=t)}let O;function E(e){O=e}function he(){if(!O)throw new Error("Function called outside component initialization");return O}function Z(e){he().$$.on_mount.push(e)}const w=[],J=[];let k=[];const U=[],pe=Promise.resolve();let P=!1;function ge(){P||(P=!0,pe.then(ee))}function j(e){k.push(e)}const C=new Set;let D=0;function ee(){if(D!==0)return;const e=O;do{try{for(;D<w.length;){const t=w[D];D++,E(t),me(t.$$)}}catch(t){throw w.length=0,D=0,t}for(E(null),w.length=0,D=0;J.length;)J.pop()();for(let t=0;t<k.length;t+=1){const n=k[t];C.has(n)||(C.add(n),n())}k.length=0}while(w.length);for(;U.length;)U.pop()();P=!1,C.clear(),E(e)}function me(e){if(e.fragment!==null){e.update(),N(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}function _e(e){const t=[],n=[];k.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),k=t}const L=new Set;let v;function ye(){v={r:0,c:[],p:v}}function ve(){v.r||N(v.c),v=v.p}function A(e,t){e&&e.i&&(L.delete(e),e.i(t))}function B(e,t,n,o){if(e&&e.o){if(L.has(e))return;L.add(e),v.c.push(()=>{L.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function K(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function $e(e){e&&e.c()}function te(e,t,n){const{fragment:o,after_update:r}=e.$$;o&&o.m(t,n),j(()=>{const l=e.$$.on_mount.map(Q).filter(W);e.$$.on_destroy?e.$$.on_destroy.push(...l):N(l),e.$$.on_mount=[]}),r.forEach(j)}function ne(e,t){const n=e.$$;n.fragment!==null&&(_e(n.after_update),N(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function be(e,t){e.$$.dirty[0]===-1&&(w.push(e),ge(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function oe(e,t,n,o,r,l,s=null,c=[-1]){const i=O;E(e);const a=e.$$={fragment:null,ctx:[],props:l,update:x,not_equal:r,bound:z(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(i?i.$$.context:[])),callbacks:z(),dirty:c,skip_bound:!1,root:t.target||i.$$.root};s&&s(a.root);let p=!1;if(a.ctx=n?n(e,t.props||{},(u,m,...$)=>{const S=$.length?$[0]:m;return a.ctx&&r(a.ctx[u],a.ctx[u]=S)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](S),p&&be(e,u)),m}):[],a.update(),p=!0,N(a.before_update),a.fragment=o?o(a.ctx):!1,t.target){if(t.hydrate){const u=fe(t.target);a.fragment&&a.fragment.l(u),u.forEach(I)}else a.fragment&&a.fragment.c();t.intro&&A(e.$$.fragment),te(e,t.target,t.anchor),ee()}E(i)}class re{constructor(){T(this,"$$");T(this,"$$set")}$destroy(){ne(this,1),this.$destroy=x}$on(t,n){if(!W(n))return x;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!ie(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const De="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(De);const F=e=>e.toISOString().split("T")[0],M=F(new Date),we=e=>{function t(o,r){const l=new Date(o),s=new Date(l);return s.setDate(l.getDate()+r),F(s)}const n=[];return e.forEach((o,r)=>{n.push(o);const l=e[r+1];if(!l)return;const s=new Date(o.date),c=new Date(l.date),a=(Number(c)-Number(s))/(1e3*60*60*24);for(let p=1;p<a;p++){const u=t(F(s),p);n.push({date:u,streakAlive:!1})}}),n};function R(e){let t,n;return{c(){t=y("div"),d(t,"class",n=_(`shadow color-${e[0].color}`)+" svelte-ngo70b")},m(o,r){q(o,t,r)},p(o,r){r&1&&n!==(n=_(`shadow color-${o[0].color}`)+" svelte-ngo70b")&&d(t,"class",n)},d(o){o&&I(t)}}}function ke(e){let t,n,o,r,l,s,c=V(e[0].date)+"",i,a,p,u,m,$,S,f=e[0].streakAlive&&R(e);return{c(){t=y("div"),f&&f.c(),n=ae(),o=y("button"),r=y("label"),l=y("div"),s=y("span"),i=Y(c),d(s,"class",a=_(`${e[1]?"opacity-100":"opacity-0"} transition-opacity`)+" svelte-ngo70b"),d(l,"class","flex flex-col svelte-ngo70b"),d(r,"class",_(`
      z-10
    text-center justify-center
    pointer-events-none fixed font-bold inset-0 grid place-content-center opacity-0
    drop-shadow-lg text-[4rem]
    group-hover:opacity-100
    md:text-[8rem]
    lg:text-[14rem]`)+" svelte-ngo70b"),d(r,"for",p=`button-${e[0].date}`),d(o,"id",u=`button-${e[0].date}`),d(o,"class",m=_(`
      group relative
      ${e[0].streakAlive?`checked color-${e[0].color}`:"bg-transparent "}
      w-full aspect-square
      p-0 m-0
      focus:outline-none
    `)+" svelte-ngo70b"),d(t,"class","grid stack svelte-ngo70b")},m(h,g){q(h,t,g),f&&f.m(t,null),b(t,n),b(t,o),b(o,r),b(r,l),b(l,s),b(s,i),$||(S=ue(o,"click",e[2]),$=!0)},p(h,[g]){h[0].streakAlive?f?f.p(h,g):(f=R(h),f.c(),f.m(t,n)):f&&(f.d(1),f=null),g&1&&c!==(c=V(h[0].date)+"")&&de(i,c),g&2&&a!==(a=_(`${h[1]?"opacity-100":"opacity-0"} transition-opacity`)+" svelte-ngo70b")&&d(s,"class",a),g&1&&p!==(p=`button-${h[0].date}`)&&d(r,"for",p),g&1&&u!==(u=`button-${h[0].date}`)&&d(o,"id",u),g&1&&m!==(m=_(`
      group relative
      ${h[0].streakAlive?`checked color-${h[0].color}`:"bg-transparent "}
      w-full aspect-square
      p-0 m-0
      focus:outline-none
    `)+" svelte-ngo70b")&&d(o,"class",m)},i:x,o:x,d(h){h&&I(t),f&&f.d(),$=!1,S()}}}function V(e){return new Date(e).toLocaleDateString("sv-SE",{year:"numeric",month:"short",day:"numeric"}).toLocaleUpperCase()}function Se(e,t,n){let{day:o}=t,{saveDay:r}=t;function l(){o.date!==M&&!localStorage.getItem("unlocked")||(n(0,o.streakAlive=!o.streakAlive,o),n(0,o.color=o.color??Math.floor(Math.random()*6),o),r(o))}let s=!1,c;return Z(()=>{document.addEventListener("mousemove",()=>(clearTimeout(c),n(1,s=!0),c=setTimeout(()=>n(1,s=!1),3e3),()=>clearTimeout(c)))}),e.$$set=i=>{"day"in i&&n(0,o=i.day),"saveDay"in i&&n(3,r=i.saveDay)},[o,s,l,r]}class Ee extends re{constructor(t){super(),oe(this,t,Se,ke,X,{day:0,saveDay:3})}}function G(e,t,n){const o=e.slice();return o[2]=t[n],o}function H(e){let t,n;return t=new Ee({props:{saveDay:e[1],day:e[2]}}),{c(){$e(t.$$.fragment)},m(o,r){te(t,o,r),n=!0},p(o,r){const l={};r&1&&(l.day=o[2]),t.$set(l)},i(o){n||(A(t.$$.fragment,o),n=!0)},o(o){B(t.$$.fragment,o),n=!1},d(o){ne(t,o)}}}function Ae(e){let t,n,o=K(e[0]),r=[];for(let s=0;s<o.length;s+=1)r[s]=H(G(e,o,s));const l=s=>B(r[s],1,1,()=>{r[s]=null});return{c(){t=y("div");for(let s=0;s<r.length;s+=1)r[s].c();d(t,"class","grid grid-cols-[repeat(5,1fr)] md:grid-cols-[repeat(15,1fr)]")},m(s,c){q(s,t,c);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(t,null);n=!0},p(s,[c]){if(c&3){o=K(s[0]);let i;for(i=0;i<o.length;i+=1){const a=G(s,o,i);r[i]?(r[i].p(a,c),A(r[i],1)):(r[i]=H(a),r[i].c(),A(r[i],1),r[i].m(t,null))}for(ye(),i=o.length;i<r.length;i+=1)l(i);ve()}},i(s){if(!n){for(let c=0;c<o.length;c+=1)A(r[c]);n=!0}},o(s){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)B(r[c]);n=!1},d(s){s&&I(t),ce(r,s)}}}function xe(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}function Oe(e,t,n){let o=[];Z(()=>{var a;const l=localStorage.getItem("streak")??"[]",c=JSON.parse(l).toSorted(xe);((a=c.at(-1))==null?void 0:a.date)!==M&&c.push({date:M,streakAlive:!1});const i=we(c);n(0,o=i)});function r(l){const s=o.filter(c=>c.date!==l.date);localStorage.setItem("streak",JSON.stringify([...s,l]))}return[o,r]}class Ne extends re{constructor(t){super(),oe(this,t,Oe,Ae,X,{})}}new Ne({target:document.getElementById("app")});
